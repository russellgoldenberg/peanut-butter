{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Ingredient.svelte",
    "Sandwich.svelte",
    "Sandwich2.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from \"svelte\";\n  import firebase from \"firebase/app\";\n  import \"firebase/firestore\";\n  import rawData from \"../data/sanwiches.csv\";\n  import Meta from \"./Meta.svelte\";\n  import Sandwich from \"./Sandwich.svelte\";\n  import Sandwich2 from \"./Sandwich2.svelte\";\n\n  const sandwichData = rawData.map((d, i) => ({\n    index: i,\n    id: d.name.toLowerCase().replace(/[^a-z]/g, \"\"),\n    love: 0,\n    hate: 0,\n    ...d,\n  }));\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyD6phwPUJCBIAd8hBSldUoxrw-ez61Ck9Q\",\n    authDomain: \"peanut-butter-41a94.firebaseapp.com\",\n    projectId: \"peanut-butter-41a94\",\n  };\n\n  let app;\n  let db;\n  let ratingData = {};\n  let status = \"waiting\";\n  let data = sandwichData;\n\n  const getRating = (id) => ratingData[id] || {};\n\n  const fetchRatings = async () => {\n    try {\n      // this does once\n      // await db\n      //   .collection(\"ratings\")\n      //   .get()\n      //   .then((snapshot) => {\n      // this does realtime\n      await db.collection(\"ratings\").onSnapshot((snapshot) => {\n        snapshot.forEach((doc) => {\n          ratingData[doc.id] = doc.data();\n        });\n      });\n      ratingData = ratingData;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const setDoc = (d) => {\n    console.log(d.id);\n    return new Promise((resolve, reject) => {\n      db.collection(\"ratings\")\n        .doc(d.id)\n        .set({\n          love: 0,\n          hate: 0,\n        })\n        .then(resolve)\n        .catch(reject);\n    });\n  };\n\n  const reset = async () => {\n    status = \"pending\";\n    for (let d of sandwichData) {\n      try {\n        await setDoc(d);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    status = \"complete\";\n  };\n\n  const onRate = ({ detail }) => {\n    const { value, id } = detail;\n    const doc = db.collection(\"ratings\").doc(id);\n    doc.update({ [[value]]: firebase.firestore.FieldValue.increment(1) });\n  };\n\n  $: ratingData,\n    (data = sandwichData.map((d) => ({\n      ...d,\n      ...getRating(d.id),\n    })));\n\n  onMount(() => {\n    if (!firebase.apps.length) {\n      app = firebase.initializeApp(firebaseConfig);\n      db = firebase.firestore(app);\n      fetchRatings();\n    }\n  });\n</script>\n\n<Meta />\n\n<section>\n  <h1>\n    The Complete Guide to Peanut Butter Sandwiches\n    <span>\n      Spice up your PB&amp;J life. Expand your palette &mdash; and mind &mdash;\n      with this exhaustive list of peanut butter sandwiches.\n    </span>\n  </h1>\n</section>\n<section>\n  {#each data as d (d.id)}\n    <Sandwich2 {...d} on:rate=\"{onRate}\" />\n  {/each}\n</section>\n\n<p>*This website contains peanuts</p>\n\n<!-- <p style=\"margin-top:10em;\">warning: this will reset everything.</p>\n<button on:click=\"{reset}\">Reset: {status}</button> -->\n<style>\n  section {\n    padding: 2rem;\n    overflow-x: hidden;\n  }\n\n  h1 {\n    font-weight: var(--bold);\n    font-size: 7.5vw;\n    line-height: 1.1;\n    padding: 1rem;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    text-shadow: 0.04em 0.04em 0 var(--primary);\n  }\n\n  span {\n    font-size: 1rem;\n    display: inline-block;\n    width: 21rem;\n    text-shadow: none;\n    text-transform: none;\n    letter-spacing: normal;\n  }\n\n  @media only screen and (min-width: 80em) {\n    span {\n      width: 12rem;\n    }\n  }</style>\n",
    "<script>\n  export let name;\n  export let alt;\n  const slug = name.toLowerCase().replace(/[^a-z]/g, \"\");\n  const deg = Math.random() * 20 - 10;\n</script>\n\n<img\n  style=\"transform: rotate({deg}deg);\"\n  src=\"assets/ingredients/{slug}.png\"\n  class:alt\n  alt=\"{name}\" />\n\n<style>\n  img {\n    max-width: 320px;\n    /* margin: 1em; */\n    /* width: 8em; */\n    width: 160px;\n    padding: 1em;\n    display: inline-block;\n    transition: transform 150ms ease-out;\n    /* filter: drop-shadow(-4px 0px 0 var(--fg)) drop-shadow(4px 0px 0 var(--fg))\n\t\t\tdrop-shadow(0 4px 0 var(--fg)) drop-shadow(0 -4px 0 var(--fg)); */\n    filter: drop-shadow(-4px 0px 0 var(--white))\n      drop-shadow(4px 0px 0 var(--white)) drop-shadow(0 4px 0 var(--white))\n      drop-shadow(0 -4px 0 var(--white)) drop-shadow(-4px 0px 0 var(--primary))\n      drop-shadow(4px 0px 0 var(--primary)) drop-shadow(0 4px 0 var(--primary))\n      drop-shadow(0 -4px 0 var(--primary));\n  }\n\n  .alt {\n    filter: drop-shadow(-4px 0px 0 var(--white))\n      drop-shadow(4px 0px 0 var(--white)) drop-shadow(0 4px 0 var(--white))\n      drop-shadow(0 -4px 0 var(--white))\n      drop-shadow(-4px 0px 0 var(--secondary))\n      drop-shadow(4px 0px 0 var(--secondary))\n      drop-shadow(0 4px 0 var(--secondary))\n      drop-shadow(0 -4px 0 var(--secondary));\n  }\n\n  img:hover {\n    transform: rotate(0deg) scale(1.25) !important;\n  }</style>\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n  import Ingredient from \"./Ingredient.svelte\";\n  export let id;\n  export let name;\n  export let ingredients;\n  export let love;\n  export let hate;\n\n  const ingredientsArr = [\"peanut butter\"].concat(\n    ingredients\n      .split(\",\")\n      .map((d) => d.trim())\n      .filter((d) => d)\n  );\n\n  const dispatch = createEventDispatcher();\n\n  const onClick = (value, id) => {\n    dispatch(\"rate\", { value, id });\n  };\n</script>\n\n<div id=\"{id}\" data-id=\"{id}\">\n  <!-- <h3>{name}</h3> -->\n  <!-- <p>{ingredients}</p> -->\n  <div class=\"rate\">\n    <!-- <p>Have you eaten this sandwich?</p> -->\n    <button on:click=\"{() => onClick('love', id)}\">ðŸ¤¤</button>\n    <button on:click=\"{() => onClick('hate', id)}\">ðŸ¤®</button>\n  </div>\n  <ul>\n    {#each ingredientsArr as name, i}\n      <li>\n        <Ingredient name=\"{name}\" />{#if i < ingredientsArr.length - 1}\n          <span>+</span>\n        {/if}\n      </li>\n    {/each}\n  </ul>\n  <!-- <p>{love} - {hate}</p> -->\n</div>\n\n<style>\n  div {\n    display: flex;\n    margin: 1em 0;\n  }\n\n  button {\n    font-size: 2em;\n    line-height: 1;\n    margin: 0.125em 0;\n  }\n\n  h3 {\n    font-weight: var(--bold);\n  }\n\n  ul {\n    display: flex;\n    align-items: center;\n  }\n\n  li {\n    list-style-type: none;\n    display: flex;\n    align-items: center;\n  }\n\n  li:first-of-type {\n    /* filter: grayscale(50%); */\n    opacity: 0.33;\n  }\n\n  span {\n    display: inline-block;\n    font-size: 2em;\n  }\n\n  .rate {\n    display: flex;\n    flex-direction: column;\n  }</style>\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n  import Ingredient from \"./Ingredient.svelte\";\n  export let id;\n  export let index;\n  export let name;\n  export let ingredients;\n  export let description;\n  export let love;\n  export let hate;\n\n  const ingredientsArr = [\"peanut butter\"].concat(\n    ingredients\n      .split(\",\")\n      .map((d) => d.trim())\n      .filter((d) => d)\n  );\n\n  const dispatch = createEventDispatcher();\n\n  const onClick = (value, id) => {\n    dispatch(\"rate\", { value, id });\n  };\n\n  $: alt = index % 2 === 0;\n</script>\n\n<div class=\"sandwich\" id=\"{id}\" data-id=\"{id}\" class:alt>\n  <!-- <p class=\"sandwich\"><img src=\"assets/sandwiches/test.jpg\" alt=\"test\" /></p> -->\n  <div class=\"name\">\n    <p><strong>{name}</strong></p>\n    <p class=\"rate\">\n      <!-- <span>{love}%</span> -->\n      <button on:click=\"{() => onClick('love', id)}\"><span>{love}</span>\n        ðŸ˜‹</button>\n      <!-- <span>{hate}%</span> -->\n      <button on:click=\"{() => onClick('hate', id)}\">ðŸ¤®\n        <span>{hate}</span></button>\n    </p>\n  </div>\n  <ul class=\"ingredients\">\n    {#each ingredientsArr as name, i}\n      <li>\n        <Ingredient\n          alt=\"{alt}\"\n          name=\"{name}\" />{#if i < ingredientsArr.length - 1}<span>+</span>{/if}\n      </li>\n    {/each}\n  </ul>\n  <p class=\"description\">{description}</p>\n  <!-- <h3>{name}</h3> -->\n  <!-- <p>{ingredients}</p> -->\n\n  <!-- <p>{love} - {hate}</p> -->\n</div>\n\n<style>\n  .sandwich {\n    display: inline;\n    margin: 0;\n    line-height: 120px;\n    margin-right: 1em;\n    background: var(--primary);\n  }\n\n  .name {\n    display: inline;\n  }\n\n  .alt {\n    background: var(--secondary);\n  }\n\n  p {\n    display: inline;\n    font-size: 2em;\n    vertical-align: middle;\n    padding: 1em 0.5em;\n    -webkit-box-decoration-break: clone;\n    box-decoration-break: clone;\n    background: var(--bg);\n    /* background: var(--primary); */\n    /* border-radius: 4px; */\n  }\n\n  .alt p {\n    /* background: var(--secondary); */\n  }\n\n  .name {\n    position: relative;\n    /* background: var(--primary); */\n    background: var(--bg);\n    padding: 1em 0.5em;\n    /* font-size: 2.5em; */\n    text-shadow: 2px 2px 0px var(--primary);\n    /* border: 4px solid var(--primary); */\n  }\n\n  .alt .name {\n    background: var(--bg);\n    /* background: var(--secondary); */\n    text-shadow: 2px 2px 0px var(--secondary);\n    /* border: 4px solid var(--secondary); */\n  }\n\n  /* img {\n    display: inline-block;\n    width: 160px;\n    height: auto;\n    margin-bottom: -80px;\n    border: 4px solid var(--fg);\n  } */\n\n  img {\n    display: none;\n  }\n\n  ul {\n    display: inline-flex;\n    align-items: center;\n    vertical-align: middle;\n  }\n\n  li {\n    list-style-type: none;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  li:first-of-type {\n    filter: grayscale(100%);\n    /* opacity: 0.33; */\n  }\n\n  p {\n    /* margin-right: 0.5em; */\n  }\n\n  .rate {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    font-size: 1.5em;\n    padding: 0;\n    background: transparent;\n    /* padding-left: 1em; */\n    /* transform: translate(-50%, 0); */\n    text-align: center;\n  }\n\n  button {\n    padding: 0.25em 0.5em;\n    font-size: 1.25em;\n  }\n\n  span {\n    font-size: 0.85em;\n  }</style>\n"
  ],
  "names": [],
  "mappings": "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"
}